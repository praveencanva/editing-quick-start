{"id":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","dependencies":[{"name":"/Users/ipraveen/projects/editing-quick-start/package.json","includedInParent":true,"mtime":1575504513104},{"name":"/Users/ipraveen/projects/editing-quick-start/node_modules/@canva/editing-extensions-api/package.json","includedInParent":true,"mtime":1575347926657},{"name":"./iframe_host_comms","loc":{"line":12,"column":36},"parent":"/Users/ipraveen/projects/editing-quick-start/node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","resolved":"/Users/ipraveen/projects/editing-quick-start/node_modules/@canva/editing-extensions-api/dist/host/iframe_host_comms.js"}],"generated":{"js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst iframe_host_comms_1 = require(\"./iframe_host_comms\");\nfunction connect(iframe) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            try {\n                const listener = (event) => {\n                    const message = event.data;\n                    if (event.source !== iframe.contentWindow ||\n                        message.topic !== \"wake_up\" /* WAKE_UP */) {\n                        return;\n                    }\n                    // console.log('[Host] Received WAKE_UP');\n                    const [port] = event.ports;\n                    window.removeEventListener('message', listener);\n                    resolve(new iframe_host_comms_1.IFrameHostBusComms(port));\n                };\n                window.addEventListener('message', listener);\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    });\n}\nexports.connect = connect;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}}],"sources":{"node_modules/@canva/editing-extensions-api/dist/host/iframe_connection.js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst iframe_host_comms_1 = require(\"./iframe_host_comms\");\nfunction connect(iframe) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            try {\n                const listener = (event) => {\n                    const message = event.data;\n                    if (event.source !== iframe.contentWindow ||\n                        message.topic !== \"wake_up\" /* WAKE_UP */) {\n                        return;\n                    }\n                    // console.log('[Host] Received WAKE_UP');\n                    const [port] = event.ports;\n                    window.removeEventListener('message', listener);\n                    resolve(new iframe_host_comms_1.IFrameHostBusComms(port));\n                };\n                window.addEventListener('message', listener);\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    });\n}\nexports.connect = connect;\n"},"lineCount":37}},"error":null,"hash":"44494f14ba57a9e7cfdbed34bccffe4e","cacheData":{"env":{}}}